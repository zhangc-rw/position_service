<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <title>大坝位移监测系统</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <link rel="stylesheet" href="../../../../../static/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="../../../../../static/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="../../../../../static/css/ionicons.min.css">
  <!-- DataTables -->
  <link rel="stylesheet" href="../../../../../static/css/dataTables.bootstrap.min.css">
  <!-- daterange picker -->
  <link rel="stylesheet" href="../../../../../static/css/daterangepicker.css">
  <!-- bootstrap datepicker -->
  <link rel="stylesheet" href="../../../../../static/css/bootstrap-datepicker.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="../../../../../static/css/AdminLTE.min.css">
<!-- AdminLTE Skins. We have chosen the skin-blue for this starter
        page. However, you can choose any other skin. Make sure you
        apply the skin class to the body tag so the changes take effect. -->
        <link rel="stylesheet" href="../../../../../static/css/skin-blue.min.css">
        <link rel="stylesheet" href="../../../../../static/css/form.css">
        <link rel="stylesheet" href="../../../../../static/css/_all-skins.min.css">
        <!-- iCheck for checkboxes and radio inputs -->
        <link rel="stylesheet" href="../../../../../static/css/all.css">
        <!-- Select2 -->
        <link rel="stylesheet" href="../../../../../static/css/select2.min.css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<style type="text/css">
body, html {
	width: 100%;
	height: 100%;
	margin: 0;
	font-family: "微软雅黑";
}
#allmap {
	height: 500px;
	width: 100%;
}
#r-result {
	width: 100%;
}
</style>
<!-- Google Font -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
</head>
<!--
BODY TAG OPTIONS:
=================
Apply one or more of the following classes to get the
desired effect
|---------------------------------------------------------|
| SKINS         | skin-blue                               |
|               | skin-black                              |
|               | skin-purple                             |
|               | skin-yellow                             |
|               | skin-red                                |
|               | skin-green                              |
|---------------------------------------------------------|
|LAYOUT OPTIONS | fixed                                   |
|               | layout-boxed                            |
|               | layout-top-nav                          |
|               | sidebar-collapse                        |
|               | sidebar-mini                            |
|---------------------------------------------------------|
-->

<body class="hold-transition skin-blue sidebar-mini">
  <div class="wrapper"> 

    <!-- Main Header -->
    <header class="main-header"> 

      <!-- Logo --> 
      <a href="#" class="logo"> 
        <!-- mini logo for sidebar mini 50x50 pixels --> 
        <span class="logo-mini">监测系统</span> 
        <!-- logo for regular state and mobile devices --> 
        <span class="logo-lg">大坝位移监测系统</span> </a> 

        <!-- Header Navbar -->
        <nav class="navbar navbar-../../../static-top" role="navigation"> 
          <!-- Sidebar toggle button--> 
          <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button"> <span class="sr-only">Toggle navigation</span> </a> 
          <!-- Navbar Right Menu -->
          <div class="navbar-custom-menu">
            <ul class="nav navbar-nav">
              <!-- User Account Menu -->
              <li class="dropdown user user-menu"> 
                <!-- Menu Toggle Button --> 
            <!--
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
              <!-- The user image in the navbar--> 
            <!--
            <img src="../../../static/img/user2-160x160.jpg" class="user-image" alt="User Image"> 
            <!-- hidden-xs hides the username on small devices so only the image appears. --> 
            <!--
            <span class="hidden-xs">Alexander Pierce</span> </a>
          -->
          <ul class="dropdown-menu">
            <!-- The user image in the menu -->
            <li class="user-header"> <img src="../../../../../static/img/user2-160x160.jpg" class="img-circle" alt="User Image">
              <p> Alexander Pierce - Web Developer <small>Member since Nov. 2012</small> </p>
            </li>
            <!-- Menu Body -->
            <li class="user-body">
              <div class="row">
                <div class="col-xs-4 text-center"> <a href="#">Followers</a> </div>
                <div class="col-xs-4 text-center"> <a href="#">Sales</a> </div>
                <div class="col-xs-4 text-center"> <a href="#">Friends</a> </div>
              </div>
              <!-- /.row --> 
            </li>
            <!-- Menu Footer-->
            <li class="user-footer">
              <div class="pull-left"> <a href="#" class="btn btn-default btn-flat">Profile</a> </div>
              <div class="pull-right"> <a href="#" class="btn btn-default btn-flat">Sign out</a> </div>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>
</header>
<!-- Left side column. contains the logo and sidebar -->
<aside class="main-sidebar"> 

  <!-- sidebar: style can be found in sidebar.less -->
  <section class="sidebar"> 
    <!-- Sidebar Menu -->
    <ul class="sidebar-menu" data-widget="tree">
      <!-- Optionally, you can add icons to the links -->
      <li>
        <a href="/Dam_Device_management/DandL_management">
          <i class="fa fa-edit"></i> <span>设备管理</span>
        </a>
      </li>
      <li class="active treeview menu-open">
        <a href="#">
          <i class="fa fa-pie-chart"></i>
          <span>查询统计</span>
          <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
          </span>
        </a>
        <ul class="treeview-menu">
          <li><a href="/Dam_Device_management/history_search"><i class="fa fa-circle-o"></i>监测历史数据查询</a></li>
          <li class="active"><a href="/Dam_Device_management/realTime_search"><i class="fa fa-circle-o"></i>监测实时数据查询</a></li>
        </ul>
      </li>
      <li class="treeview">
        <a href="#">
          <i class="fa fa-table"></i>
          <span>数据管理</span>
          <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
          </span>
        </a>
        <ul class="treeview-menu">
          <li><a href="/Dam_Device_management/list_show_history"><i class="fa fa-circle-o"></i>监测历史数据查询</a></li>
          <li><a href="/Dam_Device_management/list_show_realTime"><i class="fa fa-circle-o"></i>监测实时数据查询</a></li>
        </ul>
      </li>
    </ul>
    <!-- /.sidebar-menu --> 
  </section>
  <!-- /.sidebar --> 
</aside>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper"> 
  <!-- Main content -->
  <section class="content container-fluid">
    <div class="row">
      <div class="col-md-12"> 
        <!-- Custom Tabs (Pulled to the right) -->
        <div class="nav-tabs-custom">
          <ul class="nav nav-tabs pull-right">
            <li class="active"><a href="#tab_realTime" data-toggle="tab">实时查看</a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="tab_realTime"> 
              <!-- Main content -->
              <section class="content">
                <div class="row">
                  <div class="col-md-11">
                    <div class="box box-primary">
                      <div class="box-header with-border">
                        <button type="button" class="btn btn-info pull-right submitBtn" onClick="JavaScript:window.history.back();">返回</button>
                      <!--
                      <div class="box-tools pull-right">
                        <div class="btn-group" id="realtime" data-toggle="btn-toggle">
                          <button type="button" class="btn btn-default btn-xs active" data-toggle="on">开始</button>
                          <button type="button" class="btn btn-default btn-xs" data-toggle="off">停止</button>
                        </div>
                      </div>
                    --> 
                  </div>
                  <div class="box-body">
                    <h4 class="box-title">温度曲线</h4>
                    <div id="line_chart_1" style="width: 100%; height: 300px;"> </div>
                    <h4 class="box-title">原始数据曲线</h4>
                    <div id="line_chart_2" style="width: 100%; height: 300px;"> </div>
                    <h4 class="box-title">平均数据曲线</h4>
                    <div id="line_chart_3" style="width: 100%; height: 300px;"> </div>
                    <h4 class="box-title">收敛数据曲线</h4>
                    <div id="line_chart_4" style="width: 100%; height: 300px;"> </div>
                    <h4 class="box-title">平滑数据曲线</h4>
                    <div id="line_chart_5" style="width: 100%; height: 300px;"> </div>
                    <h4 class="box-title">X坐标曲线</h4>
                    <div id="line_chart_6" style="width: 100%; height: 300px;"> </div>
                    <h4 class="box-title">Y坐标曲线</h4>
                    <div id="line_chart_7" style="width: 100%; height: 300px;"> </div>
                    <h4 class="box-title">Z坐标曲线</h4>
                    <div id="line_chart_8" style="width: 100%; height: 300px;"> </div>
                  </div>
                  <!-- /.box-body--> 
                </div>
                <!-- /.box --> 
              </div>
              <!-- /.col -->
              <div class="col-md-1" style="display:none">
                <div class="box-header with-border">
                  <h3 class="box-title">基站-标签列表信息</h3>
                </div>
                <div class="box-body no-padding box-messages">
                  <ul class="nav nav-pills nav-stacked">
                    <table id="dataList" class="table table-bordered">
                      <thead>
                        <tr>
                          <th>大坝编号</th>
                          <th>基站编号A</th>
                          <th>标签编号T</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="dam" width="40px"></td>
                          <td class="station" width="45px"></td>
                          <td class="device" width="45px"></td>
                        </tr>
                      </tbody>
                    </table>
                  </ul>
                </div>
                <!-- /.box-body --> 
              </div>
              <!-- /.col --> 
            </div>
            <!-- /.row --> 
          </div>
          <!-- /.tab-content --> 
        </div>
      </div>
      <!-- /.tab-content --> 
    </div>
    <!-- nav-tabs-custom --> 
  </div>
  <!-- /.col --> 
</div>
<!-- /.row -->
</section>
<!-- /.content --> 
</div>
</div>
<!-- /.tab-content -->
</div>
<!-- nav-tabs-custom -->
</div>
<!-- /.col -->
</div>
</section>
<!-- /.content -->
</div>
<!-- /.content-wrapper -->
</div>
<!-- ./wrapper --> 

<!-- REQUIRED JS SCRIPTS --> 

<!-- jQuery 3 --> 
<script src="../../../../../static/js/jquery.min.js"></script> 
<!-- Bootstrap 3.3.7 --> 
<script src="../../../../../static/js/bootstrap.min.js"></script> 
<!-- DataTables --> 
<script src="../../../../../static/js/jquery.dataTables.min.js"></script> 
<script src="../../../../../static/js/dataTables.bootstrap.min.js"></script> 
<!-- date-range-picker --> 
<script src="../../../../../static/js/moment.min.js"></script> 
<script src="../../../../../static/js/daterangepicker.js"></script> 
<!-- bootstrap datepicker --> 
<script src="../../../../../static/js/bootstrap-datepicker.min.js"></script> 
<!-- AdminLTE App --> 
<script src="../../../../../static/js/adminlte.min.js"></script> 
<script src="../../../../../static/js/form.js"></script> 
<!-- vue --> 
<script src="../../../../../static/js/vue.js"></script> 
<script src="../../../../../static/js/csrf.js"></script> 
<script src="../../../../../static/js/fastclick.js"></script> 
<!-- AdminLTE for demo purposes --> 
<script src="../../../../../static/js/demo.js"></script> 
<!-- Select2 --> 
<script src="../../../../../static/js/select2.full.min.js"></script> 
<!-- FLOT CHARTS --> 
<script src="../../../../../static/js/jquery.flot.js"></script> 
<!-- FLOT RESIZE PLUGIN - allows the chart to redraw when the window is resized --> 
<script src="../../../../../static/js/jquery.flot.resize.js"></script> 
<!-- FLOT PIE PLUGIN - also used to draw donut charts --> 
<script src="../../../../../static/js/jquery.flot.pie.js"></script> 
<!-- FLOT CATEGORIES PLUGIN - Used to draw bar charts --> 
<script src="../../../../../static/js/jquery.flot.categories.js"></script> 
<script src="../../../../../static/js/jquery.flot.time.min.js"></script> 

<!-- Optionally, you can add Slimscroll and FastClick plugins.
     Both of these plugins are recommended to enhance the
     user experience. --> 

     <script>
      $(document).ready(function(){
        $.ajaxSetup({
          data: {csrfmiddlewaretoken: '{{ csrf_token }}' },
        });  

//从后台获得之前页面发送的基站和标签的编号，拆分回传至html相应位置
//注意变量的的全局性，不要写在循环里面
var Name_list={{Name_list|safe}};
	//console.log(Name_list)
	var dam_num_ori=[];
	var station_num_ori=[];
	var device_num_ori=[];
	var type_num_ori=[];
	var happy_Temperature = [], happy_Raw = [], happy_Average = [], happy_Convergence = [], happy_Smooth = [], happy_X = [], happy_Y = [], happy_Z = [];//存放线的数据和颜色
	var color_choose = ['#467500','#600030','#424200','#000079','#006030','#28FF28','#613030','#28004D','#0080FF','#000000','#ADADAD','#2F0000','#FF79BC','#844200','#000079','#003E3E ','#4DFFFF','#FF0000','#336666'];	
	//var is=0;
	//var isFirst = Name_list.length;//限定执行次数，避免重复添加lable，但是出现有些项无数据传回的现象，故采用传回的data作为计数
	//console.log(isFirst)
	for(var k=0;k<Name_list.length;k++){
		//实时传输的存储
		window["Name_ori"+k]=[];//主要是为了取出最后一个type，表明数据类型
		window["name_ori"+k]=[];
		window["data_ori"+k]=[];//存放传回的坐标
		window["time_ori"+k]=[];//存放转化后的时间，作为横坐标
		window["line_draw"+k] = {};//存放多组线的数据、颜色和标签
		var type = Name_list[k].split(",");//通过设置的“,”进行拆分
		dam_num_ori[k] = type[0];//第一项是dam_num_ori
		station_num_ori[k] = type[1];//第二项是station_num_ori
		device_num_ori[k] = type[2];//第三项是device_num_ori
		type_num_ori[k] = type[3];//第四项是type_num_ori
  } 
	//console.log(dam_num_ori)
	//console.log(station_num_ori)
	//console.log(device_num_ori)
	//console.log(type_num_ori)
	
	//把Name_list转为数组，取出“type”元素
	for (var n = 0; n < Name_list.length; n++) {
		window["Name_ori"+n].push(Name_list[n]);
		window["name_ori"+n] = JSON.parse('[' + String(window["Name_ori"+n]) + ']');
		//console.log(window["Name_ori"+n])
		//console.log(window["name_ori"+n])
    //console.log(window["name_ori"+n][3])
  }

	//回传至html相应位置， parents是用来找父级，datalist已经在最外面了就不用了
	var dam_Num = JSON.parse('[' + dam_num_ori + ']');//将字符串数组转为数值数组，这样才能提取使用	
	var station_Num = JSON.parse('[' + station_num_ori + ']');//将字符串数组转为数值数组，这样才能提取使用
	var device_Num = JSON.parse('[' + device_num_ori + ']');//将字符串数组转为数值数组，这样才能提取使用
	//console.log(dam_Num)		
	//console.log(station_Num)
	//console.log(device_Num)
  $('#dataList').find(".dam").html(dam_Num.join('<br>'))
  $('#dataList').find(".station").html(station_Num.join('<br>'))
  $('#dataList').find(".device").html(device_Num.join('<br>'))

  //在实时中加入一部分历史数据
  var Num_list = {{Num_list|safe}};//数量列表，每个元素都规定每一条线的数据个数
  //console.log(Num_list);
  
  var Time_list = {{Time_list|safe}};//时间列表
  //console.log(Time_list)
  
  //转化时间为中国标准时间格式
  var time_list = [];
  for (var k = 0; k < Time_list.length; k++) {
    time_list.push(new Date (Time_list[k]));
  }
  //console.log(time_list)
  
  var Data_list = {{Data_list|safe}};//距离列表，存放具体数据
  //console.log(Data_list);
  
  //按Num_list中的个数，取出time_list,Data_list（第一个）方法不同
  for (var s = 0; s < Num_list[0]; s++) {
    window["time_ori"+0].push(time_list[s]);
    window["data_ori"+0].push(Data_list[s]);
  }
  //console.log(time_ori0)
  //console.log(data_ori0)
  
  //按Num_list中的个数，取出time_list,Data_list（从第二个开始）
  var isFirst = 1;//只执行一次
  var start;
  for (var j = 1; j < Num_list.length;j++) {
    if(isFirst==1){
      start = Num_list[j-1];
      isFirst = 0;
    }
    window["time_ori"+j] = time_list.slice(start,start + Num_list[j]);
    window["data_ori"+j] = Data_list.slice(start,start + Num_list[j]);
    start = start + Num_list[j];
    //console.log(window["time_ori"+j])
  }
  //console.log((window["time_ori"+1])[0])
  //console.log((window["data_ori"+1]))

//定时器，每隔一段时间遍历列表
setInterval(function postID(){

		//一定要转化一下
		var dam_num = JSON.stringify(dam_num_ori);//数组转换成json，这样使用ajax传递
		var station_num = JSON.stringify(station_num_ori);//数组转换成json，这样使用ajax传递
		var device_num = JSON.stringify(device_num_ori);//数组转换成json，这样使用ajax传递
		var type_num = JSON.stringify(type_num_ori);//数组转换成json，这样使用ajax传递
		//console.log(dam_num)
		//console.log(station_num)	
		//console.log(device_num)
		//console.log(type_num)

		//ajax方法实现前后端交互
		$.ajax({
     type: "POST",
             //url: "http://127.0.0.1:8000/Displacement_management/label_detail_realTime_real/", //后台处理函数的url 这里用的是static url 需要与urls.py中的name一致,或者直接写http地址
			 url: "/../Displacement_management/label_detail_realTime_real/",//更改为相对路径，避免部署后，地址出现错误
       dataType: "JSON",
       data: {"dam_num":dam_num,"station_num":station_num,"device_num":device_num,"type_num":type_num},
       traditional: true,
			 //async:false,
             //cache: false,
             success: function (result) {//成功时弹出view传回来的结果即后端处理函数中HttpResponse的返回值</span>

              for(var j=0;j<result.Data_list.length;j++){
					//console.log(result.Data_list)
          			//console.log(result.Time_list)

          			//var isFirst = result.Data_list.length;
          			//console.log(window["time_ori"+j])
          			//console.log(window["time_ori"+j].length)
          			//console.log(new Date (result.Time_list[j]))
          			//console.log(window["time_ori"+j][window["time_ori"+j].length-1])

					//将传回的数值push进time_ori和data_ori数组：判断若时间不相同，则push进数组
          if ((window["time_ori"+j][window["time_ori"+j].length-1].getTime()) !== (new Date (result.Time_list[j])).getTime()) {
                  window["time_ori"+j].push(new Date (result.Time_list[j])) //转化时间为中国标准时间格式
                  window["data_ori"+j].push(result.Data_list[j]);
                }
          //去除非值，横纵坐标一起取消
          if (window["data_ori"+j][window["data_ori"+j].length-1] == 0) {
                window["data_ori"+j].splice(window["data_ori"+j].length-1,1); //去除下标为w，长度为1的元素
                window["time_ori"+j].splice(window["data_ori"+j].length-1,1); //去除下标为w，长度为1的元素
              }
          //console.log(window["time_ori"+0])
          //console.log(window["data_ori"+0])  	
					//console.log(window["time_ori"+j])
					//console.log(window["data_ori"+j])

          window["line_coor"+j]=[];
					//将已获得的time_ori和data_ori放入line_coor中，确立横纵坐标，以画图
					for (var w = 0; w < window["time_ori"+j].length; w += 1) {
						//温度和原始数据显示150个
						if(window["name_ori"+j][3]==1 || window["name_ori"+j][3]==2){
							if(window["line_coor"+j].length < 150) {//数组长度定为*，在前端显示为*个点
									window["line_coor"+j].push([(window["time_ori"+j][w]), (window["data_ori"+j][w])])//由于window是数组，因此要把元素取出来再push；同理，此处指pushline_time0
               }else{
								//数组掐头增尾
								window["line_coor"+j].push([(window["time_ori"+j][w]), (window["data_ori"+j][w])])
								window["line_coor"+j].shift([(window["time_ori"+j][w]), (window["data_ori"+j][w])])
							}
						}else{
							//其他数据显示5个
							if(window["line_coor"+j].length < 5) {//数组长度定为*，在前端显示为*个点
								
									window["line_coor"+j].push([(window["time_ori"+j][w]), (window["data_ori"+j][w])])//由于window是数组，因此要把元素取出来再push；同理，此处指pushline_time0
               }else{
								//数组掐头增尾
								window["line_coor"+j].push([(window["time_ori"+j][w]), (window["data_ori"+j][w])])
								window["line_coor"+j].shift([(window["time_ori"+j][w]), (window["data_ori"+j][w])])
							}
						}
					}
					//console.log(window["line_coor"+1])
					//console.log(window["line_coor"+j])
					//console.log(window["line_coor"+j].length)
					//console.log(window["name_ori"+j])

					//if(is<isFirst){//由于后面数组清零，就不需要计数显示label了
           if(window["name_ori"+j][3]==1){
             window["line_draw"+j] = {
              data : window["line_coor"+j],
              color: color_choose[j],
              label: "标签" + ":" + device_Num[j] + " " + "温度数据",
            }
						//is=is+1;
          }else if(window["name_ori"+j][3]==2){
           window["line_draw"+j] = {
            data : window["line_coor"+j],
            color: color_choose[j],
            label: "基站" + ":" + station_Num[j] + " " + "标签" + ":" + device_Num[j] + " " + "原始数据",
          }
						//is=is+1;
          }else if(window["name_ori"+j][3]==3){
           window["line_draw"+j] = {
            data : window["line_coor"+j],
            color: color_choose[j],
            label: "基站" + ":" + station_Num[j] + " " + "标签" + ":" + device_Num[j] + " " + "平均数据",
          }
						//is=is+1;
          }else if(window["name_ori"+j][3]==4){
           window["line_draw"+j] = {
            data : window["line_coor"+j],
            color: color_choose[j],
            label: "基站" + ":" + station_Num[j] + " " + "标签" + ":" + device_Num[j] + " " + "收敛数据",
          }
						//is=is+1;
          }else if(window["name_ori"+j][3]==5){
           window["line_draw"+j] = {
            data : window["line_coor"+j],
            color: color_choose[j],
            label: "基站" + ":" + station_Num[j] + " " + "标签" + ":" + device_Num[j] + " " + "平滑数据",
          }
						//is=is+1;
          }else if(window["name_ori"+j][3]==6){
           window["line_draw"+j] = {
            data : window["line_coor"+j],
            color: color_choose[j],
            label: "标签" + ":" + device_Num[j] + " " + "X坐标",
          }
						//is=is+1;
          }else if(window["name_ori"+j][3]==7){
           window["line_draw"+j] = {
            data : window["line_coor"+j],
            color: color_choose[j],
            label: "标签" + ":" + device_Num[j] + " " + "Y坐标",
          }
						//is=is+1;
          }else if(window["name_ori"+j][3]==8){
           window["line_draw"+j] = {
            data : window["line_coor"+j],
            color: color_choose[j],
            label: "标签" + ":" + device_Num[j] + " " + "Z坐标",
          }
						//is=is+1;
          }
					//console.log(window["line_draw"+j])

					//在此处添加XYZ，历史亦然
					if (window["name_ori"+j][3]== 1) {
						happy_Temperature.push(window["line_draw"+j])//存放的温度曲线
					}else if(window["name_ori"+j][3]== 2){
						happy_Raw.push(window["line_draw"+j])
					}else if(window["name_ori"+j][3]== 3){
						happy_Average.push(window["line_draw"+j])
					}else if(window["name_ori"+j][3]== 4){
						happy_Convergence.push(window["line_draw"+j])
					}else if(window["name_ori"+j][3]== 5){
						happy_Smooth.push(window["line_draw"+j])
					}else if(window["name_ori"+j][3]== 6){
						happy_X.push(window["line_draw"+j])
					}else if(window["name_ori"+j][3]== 7){
						happy_Y.push(window["line_draw"+j])
					}else if(window["name_ori"+j][3]== 8){
						happy_Z.push(window["line_draw"+j])
					}
					//console.log(happy_Raw)
          //console.log(happy_X)
          
				}//for循环
				
				//开始画线-温度
       var interactive_plot = $.plot('#line_chart_1', happy_Temperature, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
          		happy_Temperature = [];//数组清零，实现向左跳动

				//开始画线-原始数据
        var interactive_plot = $.plot('#line_chart_2', happy_Raw, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
        happy_Raw = [];      

				//开始画线-平均数据
       var interactive_plot = $.plot('#line_chart_3', happy_Average, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
       happy_Average = [];

				//开始画线-收敛曲线
       var interactive_plot = $.plot('#line_chart_4', happy_Convergence, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
       happy_Convergence = [];

				//开始画线-平滑曲线
       var interactive_plot = $.plot('#line_chart_5', happy_Smooth, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
       happy_Smooth = [];

				//开始画线-X
       var interactive_plot = $.plot('#line_chart_6', happy_X, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
       happy_X = [];

				//开始画线-Y
       var interactive_plot = $.plot('#line_chart_7', happy_Y, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
       happy_Y = [];

				//开始画线-Z
       var interactive_plot = $.plot('#line_chart_8', happy_Z, {
         grid  : {
          hoverable  : true,
          borderColor: '#111111',
          borderWidth: 1,
          tickColor  : '#8E8E8E'
        },
        series: {
        				shadowSize: 0, // Drawing is faster without shadows
        				//color     : '#3c8dbc',
                lines     : {
                  show: true
                },
                points    : {
                  show: true
                }
              },
//      				lines : {
//        				fill : false, //Converts the line chart to area chart
//        				color: ['#f56954']
//      				},
yaxis : {
//        				min : 0,
//        				max : 100,
show: true
},
xaxis : {
  show: true,
  mode:'time',
  tickFormatter:function(e){
   var d = new Date(e);
   if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
     return  '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
      return '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
      else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
        return d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
        else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
          return d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
          else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
            return d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
            else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
              return '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
              else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                return '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();} 
                else {
                  return d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}
                }
              }
            })
       happy_Z = [];

			 },//success

			 error: function (res) {
				 console.log('error');//请求失败回调
       }
     })
},1000);

	//Initialize tooltip on hover
  $('<div class="tooltip-inner" id="line-chart-tooltip"></div>').css({
    position: 'absolute',
    display : 'none',
    opacity : 0.8
  }).appendTo('body')

  $('#line_chart_1').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(2) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 温度 ' + ':' + y + ' 摄氏度 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })

  $('#line_chart_2').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(4) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 距离 ' + ':' + y + ' 米 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })

  $('#line_chart_3').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(4) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 距离 ' + ':' + y + ' 米 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })

  $('#line_chart_4').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(4) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 距离 ' + ':' + y + ' 米 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })

  $('#line_chart_5').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(4) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 距离 ' + ':' + y + ' 米 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })

  $('#line_chart_6').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(4) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 距离 ' + ':' + y + ' 米 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })

  $('#line_chart_7').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(4) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 距离 ' + ':' + y + ' 米 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })

  $('#line_chart_8').bind('plothover', function (event, pos, item) {

    if (item) {
     var x = item.datapoint[0],
            y = item.datapoint[1].toFixed(4) //设定精度
            d = new Date(x);
            if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() < 10){
              timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();} 
              else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() >= 10) {
               timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();} 
               else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                 timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                 else if (d.getHours() >= 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                   timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                   else if (d.getHours() >= 10 && d.getMinutes() < 10 && d.getSeconds() < 10) {
                     timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                     else if (d.getHours() < 10 && d.getMinutes() >= 10 && d.getSeconds() < 10) {
                       timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + d.getMinutes() + ':' + '0' + d.getSeconds();}
                       else if (d.getHours() < 10 && d.getMinutes() < 10 && d.getSeconds() >= 10) {
                         timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + '0' + d.getHours() + ':' + '0' + d.getMinutes() + ':' + d.getSeconds();}
                         else {
                           timeStr = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();}

                           $('#line-chart-tooltip').html(' 时间 ' +  ':' + timeStr + ' ; ' + ' 距离 ' + ':' + y + ' 米 ')
                           .css({ top: item.pageY + 5, left: item.pageX + 5 })
                           .fadeIn(200)
                         } else {
                           $('#line-chart-tooltip').hide()
                         }
                       })
  
                     })	

                   </script>
                 </body>
                 </html>